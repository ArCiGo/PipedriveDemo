
# Test Plan for Automation Framework

A short test plan for the automation framework for Pipedrive assessment

## Objectives ğŸ¯

The following items are going to be tested.-

* **Functional testing**
    * *UI*
        * Automation testing, in Firefox browser, for [Pipedrive demo site](https://testing65.pipedrive.com/).-
            * Deal feature.

## Deliverables ğŸ’¼

Automation framework, made in C#, with tests and test plans.

## Assumptions ğŸ¤”

* Feature is ready and deployed in *demo* environment.
* Unit tests.-
    * Prior review with the **Development** team, the unit tests were made according to the AC, having other unit tests that covered edge cases.
    * Unit tests have passed in the *development* environment, monitored by the **Testing** team (or the team in charge of that).
* Demo.-
    * There was a walkthrough through the app for the **Testing** team guided by the developer(s) who worked on the feature, and there was a double check with the PO, before starting the testing process.
* Design was made according to the wireframes.
    * The UI, developed by the **Development** team, and UX were checked with the **UI/UX Design** team, with the suggestions talked before to test.
* The **Development** team and the **PO** gave a brief walkthrough to the **Testing** team through the app to check what was made and if the feature met the requirements.

## Test Scenarios ğŸ’»

The following scenarios were made from a user perspective.

```gherkin
Feature: Deal feature

# As a user, I should be able to create a deal item.
Scenario outline: Create a deal 
    Given the following values "<contactPerson>", "<organization>", 
        "<title>", "<value>", "<expectedCloseDate>", "<phone>" and "<email>" 
    When I click on Save button
    Then I should be able to create a deal item
    And it should appear in the Deals dashboard

    Examples:
    | contactPerson                       | organization        | title                             | value | expectedCloseDate | phone         | email                                 |
    | Armando Cifuentes GonzÃ¡lez          | Home                | Owner                             | 60000 | 25/07/1992        | +528888639136 | armando.cifuentes@pipedrive.com       |
    | ÎšÎ±Ï„ÎµÏÎ¯Î½Î± Î£Î±ÎºÎµÎ»Î»Î±ÏÎ¿Ï€Î¿ÏÎ»Î¿Ï…            | Î•Î»Î»Î·Î½Î¹ÎºÎ® Î”Î·Î¼Î¿ÎºÏÎ±Ï„Î¯Î± | Î ÏÏŒÎµÎ´ÏÎ¿Ï‚ Ï„Î·Ï‚ Î•Î»Î»Î·Î½Î¹ÎºÎ®Ï‚ Î”Î·Î¼Î¿ÎºÏÎ±Ï„Î¯Î±Ï‚|       |                   | +528888639137 | katerina.sakellaropoulou@pipedrive.com|
    | Ğ’Ğ¾Ğ»Ğ¾Ğ´Ğ¸Ğ¼Ğ¸Ñ€ ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğ¾Ğ²Ğ¸Ñ‡ Ğ—ĞµĞ»ĞµĞ½ÑÑŒĞºĞ¸Ğ¹  | Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ°             | ĞŸÑ€ĞµĞ·Ğ¸Ğ´ĞµĞ½Ñ‚ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ¸                 | 80000 | 25/01/1978        | +528888639138 | volodymyr.zelenskyy@pipedrive.com     |
    # And so on...

# As a user, I should be able to create a deal item just by filling in the mandatory fields.
Scenario outline: Create a deal filling the mandatory fields
    Given the following values "<contactPerson>", "<organization>" and "<title>"
    When I click on Save button
    Then I should be able to create a deal item
    And it should appear in the Deals dashboard

    Examples:
    | contactPerson                       | organization        | title                             |
    | ÎšÎ±Ï„ÎµÏÎ¯Î½Î± Î£Î±ÎºÎµÎ»Î»Î±ÏÎ¿Ï€Î¿ÏÎ»Î¿Ï…            | Î•Î»Î»Î·Î½Î¹ÎºÎ® Î”Î·Î¼Î¿ÎºÏÎ±Ï„Î¯Î± | Î ÏÏŒÎµÎ´ÏÎ¿Ï‚ Ï„Î·Ï‚ Î•Î»Î»Î·Î½Î¹ÎºÎ®Ï‚ Î”Î·Î¼Î¿ÎºÏÎ±Ï„Î¯Î±Ï‚|
    # And so on...

# As a user, I should not be able to create a deal.
# if I do not fill the mandatory fields
Scenario: Do not create a deal
    Given an empty deal form
    When I click on Save button
    Then I should not be able to create a deal
    And I should be seeing the errors below the Contact Person, Organization and Title fields

```
## Risks â˜ ï¸

### Technical discoveries (bugs ğŸ•µï¸ ğŸ” ğŸ)

Before creating the code for the automation framework, during the inspection of the Web elements, I found these interesting things.-

* There is a lot of code that is generated by the transpiler, and the elements are not rendered following the good practices of HTML markup. For example, let's take a look at the following piece of code:

```hmtl
<div class="cui5-spacing cui5-spacing--top-m cui5-spacing--right-m cui5-spacing--bottom-m cui5-spacing--left-m RightPanel__panel--MbnX7" data-test="right-panel">
   <div>
      <div class="RightPanel__iconFieldsWrapper--iMLqe" data-test="right-panel-section-person" data-test-disabled="true">
         <div class="cui5-separator cui5-separator--type-line RightPanel__separator--ttRA7">
            <div class="cui5-separator__label"><span>PERSON</span></div>
         </div>
         <div class="RightPanel__fields--IWKjU">
            <div class="RightPanel__formField--SkkkH">
               <div class=" FormField__formField--E60Qw" data-test-type="default_phone" data-test-key="phone" data-coachmark="phone">
                  <div class="FormField__text--b9YT1">Phone </div>
                  <div>
                     <div class="Duplicates__popoverWrap--__Zlj">
                        <div>
                           <div class="ff_v861__InputSelectAddMore__wrapper__aVl">
                              <section>
                                 <div class="ff_v861__InputSelectAddMore__itemWrap__gXU">
                                    <div class="ff_v861__InputSelectAddMore__item__qFn">
                                       <div class="ff_v861__InputSelectCompound__compoundComponent__JpK">
                                          <div class="ff_v861__InputSelectCompound__inputWrap__BiG">
                                             <div class="cui5-input ff_v861__InputSelectCompound__input__VK9">
                                                <div class="cui5-input__box"><input data-testid="compound-input" disabled="" type="text" value=""></div>
                                             </div>
                                          </div>
                                          <div role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="downshift-10-label" class="cui5-select cui5-select--disabled cui5-select--size-m ff_v861__InputSelectCompound__select__bKx">
                                             <span class="cui5-select__box">
                                                <span>Work</span>
                                                <svg class="cui5-icon cui5-icon--color-primary cui5-icon--size-s cui5-select__toggle">
                                                   <use href="#icon-sm-triangle-down" xlink:href="#icon-sm-triangle-down"></use>
                                                </svg>
                                             </span>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </section>
                              <div class="cui5-text ff_v861__InputSelectAddMore__disabled__-tD"><a href="#" class="ff_v861__InputSelectAddMore__link__iO5">+ Add phone</a></div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="RightPanel__formField--SkkkH">
               <div class=" FormField__formField--E60Qw" data-test-type="email" data-test-key="email" data-coachmark="email">
                  <div class="FormField__text--b9YT1">Email </div>
                  <div>
                     <div class="Duplicates__popoverWrap--__Zlj">
                        <div>
                           <div class="ff_v861__InputSelectAddMore__wrapper__aVl">
                              <section>
                                 <div class="ff_v861__InputSelectAddMore__itemWrap__gXU">
                                    <div class="ff_v861__InputSelectAddMore__item__qFn">
                                       <div class="ff_v861__InputSelectCompound__compoundComponent__JpK">
                                          <div class="ff_v861__InputSelectCompound__inputWrap__BiG">
                                             <div class="cui5-input ff_v861__InputSelectCompound__input__VK9">
                                                <div class="cui5-input__box"><input data-testid="compound-input" disabled="" type="text" value=""></div>
                                             </div>
                                          </div>
                                          <div role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="downshift-11-label" class="cui5-select cui5-select--disabled cui5-select--size-m ff_v861__InputSelectCompound__select__bKx">
                                             <span class="cui5-select__box">
                                                <span>Work</span>
                                                <svg class="cui5-icon cui5-icon--color-primary cui5-icon--size-s cui5-select__toggle">
                                                   <use href="#icon-sm-triangle-down" xlink:href="#icon-sm-triangle-down"></use>
                                                </svg>
                                             </span>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </section>
                              <div class="cui5-text ff_v861__InputSelectAddMore__disabled__-tD"><a href="#" class="ff_v861__InputSelectAddMore__link__iO5">+ Add email</a></div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
```

As you may notice, to access an `<input>` tag I need to go deep to a lot of `<div>`tags, and most of the HTML tags do not have a proper ID/Class identifier, or the value used for this attributes does not have a meaningful name. If there is a change in the DOM, the paths, IDs, classes, etc, used for the automation may cause flaky tests and there will be need to change the paths again.
* The dropdown menus are not using the right HTML tag.
    * The **Currency** field is not a dropdown. Every item in the list is a `<div>`tag, and its options are rendered in another place in the DOM, instead below the tag.
    * The **Visible to** field is not a dropdown. It behaves like a `<popover>`tag. If you click in another section of the page, or browser window, the menu closes. 
    * The **Menu Settings**, in the **Deal** page, button displays its options in another place of the DOM, instead below the button, and all the options are rendered in a `<li>` tag.
* What is the validation for alphabets like Greek, Russian, Arabian, etcetera, or special characters of the Latino alphabet?

### Others ğŸ“„ ğŸ’‰ âš ï¸

* **Demo** environment could be down during testing and may delay the testing process. 
* New bugs found during the execution may delay the execution of the tests proposed (manual and automation).
    * Fields and buttons in the form are not enabled to interact with them.
    * Fields in the form do not accept special characters.
    * The deal is not displayed in the dashboard.
    * The deal is not saved or it comes with missing data.
        * APIs are not sending/retrieving the data to the database/UI.
    * The feature was not designed according to the wireframe or is not Web responsive. 
    * The UX is not intuitive.
* Time too short for testing the feature due to new bugs, changes requested, deadlines, etcetera. 
* Third-party libraries for testing process may be broken or have unexpected results.
* Extraordinary events, such as vacations, illnesses, pandemics, deaths, PTOs, holidays, etcetera. 
* Lack of/Ambiguous requirements to start the testing process. 
* _This one was found during the creation of the automation framework. -_ **ChromeDriver** is not working, and for this reason I used **GeckoDriver** for **Mozilla Firefox**. There is an open issue that you may check [here](https://bugs.chromium.org/p/chromedriver/issues/detail?id=4121)

## Staff ğŸ§

- **Armando Cifuentes GonzÃ¡lez** ([@ArCiGo](https://www.linkedin.com/in/arcigo/))
    * _Software Engineer in Test_.
        * Experience with:
            * **Manual testing process**: _API/UI testing for Web and Mobile (Android & iOS). A little bit of UX testing_.
            * **Automation testing process**: _API/UI testing for Web. A little bit of Unit testing_.
            * **Testing practice**: _Exploratory, Smoke, e2e, Retesting and Regression testing. Software analysis_.
            * **Tools**: _Postman, C#, Java, git, Selenium, Restsharp. A little bit of JS and TS (but open to retaking it!)_.

## Tools ğŸ”¨

The following tools are going to be used to develop the automation framework.

* **Products**
    * _Mozilla Firefox.
    * _Visual Studio for Mac_.
    * _Extent Reports_.
    * _hyper_.
    * _Github_.
* **Languages**
    * _C#._
    * _Markdown_.
* **SVC**
    * _git_.

### Known limitations

* Time.

## About Pipedrive ğŸ’»

Pipedrive is the first CRM platform made for salespeople, by salespeople.

In 2010, our co-founders set out to build a customer relationship management (CRM) tool that helps users visualize their sales processes and get more done. They knew from experience that in sales, as in life, you canâ€™t control your results but you can control your actions. So, they created Pipedrive around activity-based selling, a proven approach thatâ€™s all about scheduling, completing and tracking activities.

Visual pipelines are another example of the sales wisdom they built into Pipedrive, which let you see exactly where each deal stands and have loads of smart and easy-to-use features.

Our crew is always getting bigger, but we all work toward one goal: to make sales success not only possible but inevitable for teams everywhere. In 2020, Vista Equity Partners, a leading global investment firm that invests exclusively in enterprise software, data and technology-enabled businesses, made a majority investment in Pipedrive. This investment and the continued support of our customers will help us accomplish our goal.

## Agreement signatures âœï¸

* **Armando Cifuentes GonzÃ¡lez**. *Software Engineer in Test*. Team Pipedrive Demo.
